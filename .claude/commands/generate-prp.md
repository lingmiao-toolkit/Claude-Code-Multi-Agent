---
description: "基于初步需求生成详细的产品需求提示文档"
allowed-tools: ["Read", "Write", "Grep", "Glob", "WebSearch"]
---

# 生成PRP - 产品需求提示文档生成器

为通用功能实现生成完整的PRP（Product Requirements Prompt），并进行彻底的研究。确保将上下文传递给AI代理，以实现自我验证和迭代改进。

## 使用方法

```bash
/generate-prp <功能文件路径>
```

## 功能文件: $ARGUMENTS

首先阅读功能文件以了解需要创建什么、提供的示例如何帮助以及任何其他考虑因素。

AI代理只能获得您附加到PRP的上下文和训练数据。假设AI代理可以访问代码库并具有与您相同的知识截止日期，因此将您的研究发现包含或引用在PRP中非常重要。代理具有网络搜索功能，因此请传递文档和示例的URL。

## 研究过程

1. **代码库分析**
   - 在代码库中搜索类似的功能/模式
   - 识别要在 PRP 中引用的文件
   - 注意要遵循的现有约定
   - 检查验证方法的测试模式

2. **外部研究**
   - 在线搜索类似的功能/模式
   - 库文档（包括具体的 URL）
   - 实现示例（GitHub/StackOverflow/博客）
   - 最佳实践和常见陷阱

3. **用户澄清**（如果需要）
   - 要镜像的特定模式以及在哪里找到它们？
   - 集成要求以及在哪里找到它们？

## PRP 生成

使用 PRPs/templates/prp_base.md 作为模板：

### 要包含并作为 PRP 一部分传递给 AI 代理的关键上下文
- **文档**：带有特定章节的 URL
- **代码示例**：来自代码库的真实代码片段
- **陷阱**：库的怪癖、版本问题
- **模式**：要遵循的现有方法

### 实现蓝图
- 从显示方法的伪代码开始
- 引用真实文件的模式
- 包含错误处理策略
- 列出完成 PRP 需要完成的任务，按应完成的顺序排列

### 验证关卡（必须可执行）

例如对于Python项目：

```bash
# 代码质量检查
python -m flake8 src/
python -m mypy src/
python -m pytest tests/ -v

# 功能验证
python -c "import your_module; print('导入成功')"
```

例如对于JavaScript项目：

```bash
# 代码质量检查
npm run lint
npm run type-check
npm test

# 功能验证
node -e "const module = require('./src/index.js'); console.log('模块加载成功');"
```

## PRP输出要求

生成的PRP文档应包含：

1. **明确的目标和成功标准**
2. **完整的技术上下文和参考资料**
3. **详细的实现蓝图和步骤**
4. **可执行的验证关卡**
5. **错误处理和边缘情况考虑**

## 执行流程

1. **读取功能文件** - 理解需求和约束
2. **代码库分析** - 查找相似模式和约定
3. **外部研究** - 收集最佳实践和文档
4. **生成PRP** - 使用模板创建完整文档
5. **验证完整性** - 确保所有必要信息都已包含

**开始为指定功能生成PRP文档...**